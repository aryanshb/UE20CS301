# DBMS Lab 5

### Aryansh Bhargavan

### PES1UG20CS084

---

#### 1.Update price of the ticket.

> **a. Create a view compute_price as below**
>
> ![image-20221011113143283](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221011113143283.png)
>
> **b. Create a View passenger_num**
>
> ![image-20221011113152632](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221011113152632.png)
>
> **c. Update Payment_info.price as below**
>
> ![image-20221011113201754](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221011113201754.png)
>

#### INNER JOIN (equijoin):

> **3.Retrieve the Train no of train which is leaving Bengaluru and arriving at Chennai with
> compartments availability greater than 10**
>
> ![image-20221011114408498](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221011114408498.png)
>
> **4.Retrieve first and last name of users who have booked a ticket with price greater than 500**
>
> ![image-20221011115115597](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221011115115597.png)

#### LEFT OUTER JOIN

> **5. Retrieve the first name, last name, DOB and ticket PNR if they’ve bought it for all users.**
>
> ![image-20221015192923136](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221015192923136.png)
>
> **6. Retrieve the first name, last name,of the Users who have not bought a ticket.**
>
> ![image-20221015193010709](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221015193010709.png)

#### RIGHT OUTER JOIN

>**7. Retrieve the ticket PNR, Train number, travel date and along with all users first name and
>last name.**
>
>![image-20221015193052871](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221015193052871.png)
>
>**8. Retrieve the user id if they’ve traveled in a train along with train id and name of all trains.**
>
>![image-20221015193119507](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221015193119507.png)

#### NESTED QUERIES

>**9. Retrieve the train no and name of trains whose destination is not Mangaluru and distance
>is not less than 100km and departure time is not 8:30:00 PM. (Correlated)**
>
>![image-20221015193200846](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221015193200846.png)
>
>**10. Retrieve the User ID who has spent more than the average ticket price. (Uncorrelated)**
>
>![image-20221015193233968](C:\Users\Aryansh\AppData\Roaming\Typora\typora-user-images\image-20221015193233968.png)

